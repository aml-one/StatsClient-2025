<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:converters="clr-namespace:StatsClient.MVVM.Converters"
                    xmlns:viewmodel="clr-namespace:StatsClient.MVVM.ViewModel"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
                    mc:Ignorable="d"
                    x:Class="StatsClient.Themes.LvItemModern">


    <converters:EmptyToHiddenConverter x:Key="EmptyToHiddenConverter" />
    <converters:EmptyToCollapsedConverter x:Key="EmptyToCollapsedConverter" />
    <converters:EqualToHiddenConverter x:Key="EqualToHiddenConverter" />
    <converters:StringToImageConverter x:Key="StringToImageConverter" />
    <converters:AgeToColorConverter x:Key="AgeToColorConverter" />


    <converters:RushToVisibleConverter x:Key="RushToVisibleConverter" />
    <converters:CommentIconToVisibleConverter x:Key="CommentIconToVisibleConverter" />
    <converters:RemoveFirstCharFromStringIfItsZConverter x:Key="RemoveFirstCharFromStringIfItsZConverter" />
    <converters:TextToVisibilityConverter x:Key="TextToVisibilityConverter" />
    <converters:IdiomToImageConverter x:Key="IdiomToImageConverter" />
    <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
    <converters:BoolToInverseVisibilityConverter x:Key="BoolToInverseVisibilityConverter" />
    <converters:EqualToCollapsedVisibilityConverter x:Key="EqualToCollapsedVisibilityConverter" />
    <converters:DarkColorBoolToColorConverter x:Key="DarkColorBoolToColorConverter" />
    <converters:AppNameToIconConverter x:Key="AppNameToIconConverter" />
    <converters:EmptyAppNameToCollapsedConverter x:Key="EmptyAppNameToCollapsedConverter" />
    <converters:EmptyAppNameToVisibleConverter x:Key="EmptyAppNameToVisibleConverter" />
    <converters:EmailToWebsiteConverter x:Key="EmailToWebsiteConverter" />
    <converters:ServiceStatusToIconConverter x:Key="ServiceStatusToIconConverter" />
    <converters:DateToMinutesConverter x:Key="DateToMinutesConverter" />


    <!-- LvItemSimple -->
    <!-- 
    <Style TargetType="ListViewItem"
           x:Key="LvItemSimple">

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="Item"
                            BorderThickness="1"
                            Tag="{Binding IntOrderID}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="PreviewMouseLeftButtonDown">
                                <i:InvokeCommandAction Command="{Binding ItemClickedCommand}"
                                                       CommandParameter="{Binding IntOrderID}" />
                            </i:EventTrigger>
                            <i:EventTrigger EventName="PreviewMouseRightButtonDown">
                                <i:InvokeCommandAction Command="{Binding ItemRightClickedCommand}"
                                                       CommandParameter="{Binding IntOrderID}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="{Binding ElementName=headerIcon, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerCaseID, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerScanInfo, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerCustomer, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerItems, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerDates, Path=Width}" />
                            </Grid.ColumnDefinitions>

                            <StackPanel Orientation="Horizontal">
                                <Border BorderBrush="#F5F5F5"
                                        BorderThickness="1">

                                    <Rectangle Width="12"
                                               Height="auto"
                                               Margin="0,0,0,0">
                                        <Rectangle.Fill>
                                            <SolidColorBrush Color="{Binding PanColor}" />
                                        </Rectangle.Fill>
                                    </Rectangle>
                                </Border>

                                <Ellipse Width="22"
                                         Height="22"
                                         Margin="3,0,2,0"
                                         Grid.Column="0"
                                         VerticalAlignment="Center">
                                    <Ellipse.Fill>
                                        <ImageBrush ImageSource="{Binding ImageSource}"
                                                    RenderOptions.BitmapScalingMode="Fant" />
                                    </Ellipse.Fill>
                                </Ellipse>

                            </StackPanel>

                            <TextBlock Text="{Binding IntOrderID}"
                                       Grid.Column="1"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       FontSize="12"
                                       Foreground="Black"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />




                            
                            <StackPanel Grid.Column="2"
                                        VerticalAlignment="Center">
                                <StackPanel Orientation="Horizontal"
                                            Margin="5,0,0,0">

                                    <TextBlock Text="{Binding ScanSourceFriendlyName}"
                                               Foreground="#060"
                                               FontSize="10"
                                               VerticalAlignment="Center"
                                               TextWrapping="WrapWithOverflow"
                                               x:Name="tbScanSource" />

                                    <TextBlock Text="{Binding CacheMaxScanDateFriendly}"
                                               Foreground="#44474D"
                                               FontSize="10"
                                               VerticalAlignment="Center"
                                               TextWrapping="WrapWithOverflow"
                                               Margin="8,0,0,0"
                                               x:Name="tbCacheMaxScanDate" />
                                </StackPanel>
                            </StackPanel>



                            
                            <StackPanel Orientation="Horizontal"
                                        Grid.Column="3"
                                        Margin="5,0,10,0"
                                        VerticalAlignment="Center">
                                <TextBlock Text="{Binding Customer}"
                                           Foreground="Black"
                                           FontWeight="Normal"
                                           TextWrapping="WrapWithOverflow"
                                           Margin="0,0,0,0"
                                           VerticalAlignment="Center" />


                                <StackPanel Orientation="Horizontal"
                                            Margin="0,0,0,0">
                                    <Label Content=">"
                                           FontSize="8"
                                           FontWeight="Normal"
                                           Foreground="#666666"
                                           Margin="0,0,0,0" />
                                    <TextBlock Text="{Binding Patient_FirstName}"
                                               Foreground="#1956a4"
                                               FontSize="10"
                                               VerticalAlignment="Center"
                                               FontWeight="Normal"
                                               Margin="0,0,0,0"
                                               TextTrimming="WordEllipsis" />

                                    <TextBlock Text="{Binding Patient_LastName}"
                                               Foreground="#1956a4"
                                               FontSize="10"
                                               Margin="5,0,0,0"
                                               FontWeight="Normal"
                                               VerticalAlignment="Center"
                                               TextTrimming="CharacterEllipsis" />

                                </StackPanel>
                            </StackPanel>






                            
                            <StackPanel Grid.Column="4"
                                        VerticalAlignment="Center"
                                        Margin="5,0,0,0">
                                <TextBlock Text="{Binding Items}"
                                           Foreground="Black"
                                           VerticalAlignment="Top"
                                           Margin="0,2,0,0"
                                           TextTrimming="CharacterEllipsis" />
                            </StackPanel>

                            <StackPanel Orientation="Horizontal"
                                        Grid.Column="5"
                                        Margin="0,0,0,0">


                                <Label Content="Created:"
                                       FontSize="8"
                                       Foreground="DarkGreen"
                                       FontWeight="Normal" />
                                <TextBlock Text="{Binding MaxCreateDateFriendly}"
                                           Foreground="#44474D"
                                           FontSize="8"
                                           VerticalAlignment="Center"
                                           TextWrapping="WrapWithOverflow" />

                                <Label Content="Modified:"
                                       FontSize="8"
                                       Foreground="SteelBlue"
                                       FontWeight="Normal"
                                       x:Name="lblModified"
                                       Visibility="{Binding Text, ElementName=tbModificationDate,
                                                    Converter={StaticResource EmptyToHiddenConverter}}" />
                                <TextBlock Text="{Binding ModificationDate}"
                                           x:Name="tbModificationDate"
                                           Foreground="#44474D"
                                           FontSize="8"
                                           FontWeight="Normal"
                                           VerticalAlignment="Center"
                                           TextWrapping="WrapWithOverflow" />

                                <Label Content="> Last touched:"
                                       FontSize="8"
                                       FontWeight="Normal"
                                       Margin="0,0,3,0"
                                       Visibility="{Binding Text, ElementName=tbLastTouchedBy,
                                                    Converter={StaticResource EmptyToHiddenConverter}}" />
                                <TextBlock Text="{Binding LastModifiedComputerName}"
                                           x:Name="tbLastTouchedBy"
                                           Foreground="#300300"
                                           FontSize="8"
                                           VerticalAlignment="Center"
                                           TextTrimming="CharacterEllipsis" />

                            </StackPanel>

                        </Grid>

                    </Border>


                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver"
                                 Value="True">
                            <Setter Property="BorderBrush"
                                    Value="#79bbf2"
                                    TargetName="Item" />
                            <Setter Property="Background"
                                    Value="AliceBlue"
                                    TargetName="Item" />
                            <Setter Property="Cursor"
                                    Value="Hand"
                                    TargetName="Item" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    -->

    <!-- LvItemFolderSubscription -->
    <Style TargetType="ListViewItem"
           x:Key="LvItemFolderSubscription">

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="Item"
                            BorderThickness="1">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseDown">
                                <i:InvokeCommandAction Command="{Binding DataContext.FsItemClickedCommand, 
                                                                 RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}"
                                                       CommandParameter="{Binding .}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="{Binding ElementName=fsIcon, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=fsName, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=fsLastModified, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=fsAge, Path=Width}" />
                            </Grid.ColumnDefinitions>


                            <StackPanel Orientation="Horizontal">
                                <Ellipse Width="22"
                                         Height="22"
                                         Margin="0,0,0,0"
                                         Grid.Column="0"
                                         VerticalAlignment="Center">
                                    <Ellipse.Fill>
                                        <ImageBrush ImageSource="/Images/folder.png" />
                                    </Ellipse.Fill>
                                </Ellipse>

                            </StackPanel>

                            <TextBlock Text="{Binding FolderName}"
                                       Grid.Column="1"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       FontSize="12"
                                       Foreground="{Binding AgeForColoring, Converter={StaticResource AgeToColorConverter}}"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />




                            <TextBlock Text="{Binding LastModified}"
                                       Grid.Column="2"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       FontSize="12"
                                       Foreground="{Binding AgeForColoring, Converter={StaticResource AgeToColorConverter}}"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />

                            <TextBlock Text="{Binding Age}"
                                       Grid.Column="3"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       FontSize="12"
                                       Foreground="{Binding AgeForColoring, Converter={StaticResource AgeToColorConverter}}"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />



                        </Grid>

                    </Border>


                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver"
                                 Value="True">
                            <Setter Property="BorderBrush"
                                    Value="#79bbf2"
                                    TargetName="Item" />
                            <Setter Property="Background"
                                    Value="AliceBlue"
                                    TargetName="Item" />
                            <Setter Property="Cursor"
                                    Value="Hand"
                                    TargetName="Item" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>


    </Style>

    <!-- LvItemPendingDigitalCases -->
    <Style TargetType="ListViewItem"
           x:Key="LvItemPendingDigitalCases">

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="Item"
                            BorderThickness="1">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="{Binding ElementName=pdPanNumber, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=pdIsCollected, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=pdIsProcessed, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=pbProcessedBy, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=pbProcessedTime, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=pbPostedBy, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=pbPostedTime, Path=Width}" />
                            </Grid.ColumnDefinitions>


                            <TextBlock Text="{Binding PanNumber}"
                                       Grid.Column="0"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Foreground="{Binding LineColor}"
                                       FontSize="14"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />

                            <TextBlock Text="{Binding IsCollected}"
                                       Grid.Column="1"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Foreground="{Binding LineColor}"
                                       FontSize="12"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />

                            <TextBlock Text="{Binding IsProcessed}"
                                       Grid.Column="2"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Foreground="{Binding LineColor}"
                                       FontSize="12"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />

                            <TextBlock Text="{Binding ProcessedBy}"
                                       Grid.Column="3"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Foreground="{Binding LineColor}"
                                       FontSize="12"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />


                            <TextBlock Text="{Binding ProcessedTime}"
                                       Grid.Column="4"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Foreground="{Binding LineColor}"
                                       FontSize="12"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />


                            <TextBlock Text="{Binding PostedBy}"
                                       Grid.Column="5"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Foreground="{Binding LineColor}"
                                       FontSize="12"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />

                            <TextBlock Text="{Binding PostedTime}"
                                       Grid.Column="6"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Foreground="{Binding LineColor}"
                                       FontSize="12"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />


                        </Grid>

                    </Border>



                </ControlTemplate>
            </Setter.Value>
        </Setter>


    </Style>

    <!-- LvItemDetailed -->
    <Style TargetType="ListViewItem"
           x:Key="LvItemDetailed">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="Item"
                            BorderThickness="1"
                            Tag="{Binding IntOrderID}">

                        <Border.ContextMenu>
                            <ContextMenu Opened="ContextMenu_Opened"
                                         Closed="ContextMenu_Closed">
                                <MenuItem Header="{Binding IntOrderID}"
                                          IsEnabled="False">
                                    <MenuItem.Icon>
                                        <Image  Source="/Images/ToolBar/id.png" />
                                    </MenuItem.Icon>
                                </MenuItem>

                                <Separator />

                                <MenuItem Header="View order"
                                          Click="MenuItemOpenUpOrderInfoWindow_Click">
                                    <MenuItem.Icon>
                                        <Image  Source="/Images/ToolBar/open.png" />
                                    </MenuItem.Icon>
                                </MenuItem>

                                <Separator />

                                <MenuItem Header="Rename"
                                          Visibility="{Binding CanBeRenamed, Converter={StaticResource BoolToVisibilityConverter}}"
                                          Click="MenuItemOpenUpRenameOrderWindow_Click">
                                    <MenuItem.Icon>
                                        <Image  Source="/Images/ToolBar/rename.png" />
                                    </MenuItem.Icon>
                                </MenuItem>

                                <MenuItem Header="Generate StCopy"
                                          Visibility="{Binding CanGenerateStCopy, Converter={StaticResource BoolToVisibilityConverter}}"
                                          Click="MenuItemGenerateStCopy_Click">
                                    <MenuItem.Icon>
                                        <Image  Source="/Images/ToolBar/stcopy.png" />
                                    </MenuItem.Icon>
                                </MenuItem>

                                <MenuItem Header="Explore order folder"
                                          Click="MenuItemExploreFolder_Click">
                                    <MenuItem.Icon>
                                        <Image  Source="/Images/ToolBar/folder.png" />
                                    </MenuItem.Icon>
                                </MenuItem>

                                <Separator Visibility="{Binding HasDesignerHistory, Converter={StaticResource BoolToVisibilityConverter}}" />

                                <MenuItem Header="Designer History"
                                          ItemsSource="{Binding DesignerHistory}"
                                          Visibility="{Binding HasDesignerHistory, Converter={StaticResource BoolToVisibilityConverter}}">
                                    <MenuItem.Icon>
                                        <Image  Source="/Images/ListViewIcons/psModelled.png" />
                                    </MenuItem.Icon>
                                    <MenuItem.ItemTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="32" />
                                                    <ColumnDefinition Width="38" />
                                                    <ColumnDefinition Width="36" />
                                                    <ColumnDefinition Width="52" />
                                                    <ColumnDefinition />
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Year}"
                                                           FontFamily="pack://application:,,,/Fonts/#RobotoMono"
                                                           FontWeight="Normal"
                                                           Grid.Column="0" />

                                                <TextBlock Text="{Binding Date}"
                                                           FontFamily="pack://application:,,,/Fonts/#RobotoMono"
                                                           FontWeight="Normal"
                                                           Margin="4,0,0,0"
                                                           Grid.Column="1" />

                                                <TextBlock Text="{Binding Day}"
                                                           FontFamily="pack://application:,,,/Fonts/#RobotoMono"
                                                           FontWeight="Normal"
                                                           HorizontalAlignment="Center"
                                                           Grid.Column="2" />

                                                <TextBlock Text="{Binding Time}"
                                                           FontFamily="pack://application:,,,/Fonts/#RobotoMono"
                                                           FontWeight="Normal"
                                                           HorizontalAlignment="Right"
                                                           Grid.Column="3" />

                                                <TextBlock Text="{Binding DesignerName}"
                                                           FontFamily="pack://application:,,,/Fonts/#RobotoMono"
                                                           FontWeight="SemiBold"
                                                           Margin="16,0,0,0"
                                                           Grid.Column="4" />
                                            </Grid>
                                        </DataTemplate>
                                    </MenuItem.ItemTemplate>
                                </MenuItem>


                            </ContextMenu>
                        </Border.ContextMenu>

                        <Border.InputBindings>
                            <MouseBinding Gesture="LeftDoubleClick"
                                          Command="{Binding DataContext.OpenUpOrderInfoWindowCommand, 
                                                            RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}" />
                        </Border.InputBindings>
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="PreviewMouseLeftButtonDown">
                                <i:InvokeCommandAction Command="{Binding DataContext.ItemClickedCommand, 
                                                             RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}"
                                                       CommandParameter="{Binding .}" />
                            </i:EventTrigger>
                            <i:EventTrigger EventName="PreviewMouseRightButtonDown">
                                <i:InvokeCommandAction Command="{Binding DataContext.ItemRightClickedCommand, 
                                                             RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}"
                                                       CommandParameter="{Binding .}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="{Binding ElementName=headerIcon, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerCaseID, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerPrescription, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerScanInfo, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerCustomer, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerItems, Path=Width}" />
                            </Grid.ColumnDefinitions>

                            <StackPanel Orientation="Horizontal"
                                        Margin="0,2,0,2">
                                <Border BorderBrush="#F5F5F5"
                                        BorderThickness="1"
                                        x:Name="brdPanColor">

                                    <Rectangle Width="12"
                                               Height="auto"
                                               Margin="0,0,0,0"
                                               x:Name="rctPanColor">
                                        <Rectangle.Fill>
                                            <SolidColorBrush Color="{Binding PanColor}" />
                                        </Rectangle.Fill>
                                    </Rectangle>
                                </Border>

                                <Ellipse Width="28"
                                         Height="28"
                                         Margin="3,0,2,0"
                                         Grid.Column="0"
                                         VerticalAlignment="Top"
                                         x:Name="Icon">
                                    <Ellipse.Fill>
                                        <ImageBrush ImageSource="{Binding ImageSource}"
                                                    RenderOptions.BitmapScalingMode="Fant" />
                                    </Ellipse.Fill>
                                </Ellipse>
                            </StackPanel>



                            <!-- OrderID & Creation/Modification dates -->
                            <StackPanel VerticalAlignment="Top"
                                        Height="32"
                                        Grid.Column="1"
                                        Margin="4,0,10,0">
                                <StackPanel Orientation="Vertical"
                                            Margin="0,2,0,0">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="{Binding IntOrderID}"
                                                   FontWeight="SemiBold"
                                                   VerticalAlignment="Center"
                                                   FontSize="12"
                                                   Foreground="Black"
                                                   TextTrimming="CharacterEllipsis" />
                                        <TextBlock d:Text="(tool tip text)"
                                                   x:Name="ToolTipText"
                                                   FontSize="9"
                                                   TextTrimming="CharacterEllipsis"
                                                   Margin="5,0,0,0" />

                                    </StackPanel>


                                    <StackPanel Orientation="Horizontal"
                                                Margin="0,1,0,0">


                                        <Label Content="Created:"
                                               FontSize="8"
                                               Foreground="DarkGreen"
                                               FontWeight="Normal"
                                               Padding="0,0,4,0" />
                                        <TextBlock Text="{Binding MaxCreateDateFriendly}"
                                                   Foreground="#44474D"
                                                   FontSize="8"
                                                   VerticalAlignment="Center"
                                                   TextWrapping="WrapWithOverflow" />

                                        <Label Content="Modified:"
                                               FontSize="8"
                                               Foreground="SteelBlue"
                                               FontWeight="Normal"
                                               x:Name="lblModified"
                                               Padding="8,0,4,0"
                                               Visibility="{Binding ModificationDate, Converter={StaticResource EmptyToCollapsedConverter}}" />
                                        <TextBlock Text="{Binding ModificationDate}"
                                                   x:Name="tbModificationDate"
                                                   Foreground="#44474D"
                                                   FontSize="8"
                                                   FontWeight="Normal"
                                                   VerticalAlignment="Center"
                                                   Visibility="{Binding ModificationDate, Converter={StaticResource EmptyToCollapsedConverter}}"
                                                   TextWrapping="WrapWithOverflow" />

                                        <Label Content="Designed By:"
                                               FontSize="8"
                                               Foreground="DarkGoldenrod"
                                               FontWeight="Normal"
                                               Padding="8,0,4,0"
                                               Visibility="{Binding ExtOrderID, Converter={StaticResource EmptyToCollapsedConverter}}" />
                                        <TextBlock Text="{Binding ExtOrderID}"
                                                   Foreground="#44474D"
                                                   FontSize="8"
                                                   FontWeight="Normal"
                                                   VerticalAlignment="Center"
                                                   Visibility="{Binding ExtOrderID, Converter={StaticResource EmptyToCollapsedConverter}}"
                                                   TextWrapping="WrapWithOverflow" />

                                    </StackPanel>

                                </StackPanel>
                            </StackPanel>


                            <!-- Prescription / Image icon -->
                            <StackPanel Grid.Column="2"
                                        VerticalAlignment="Center">
                                <Image Source="\Images\ListViewIcons\image.png"
                                       Width="21"
                                       Height="22"
                                       ToolTip="This order has images / rx form"
                                       Visibility="{Binding HasAnyImage, Converter={StaticResource BoolToVisibilityConverter}}" />
                            </StackPanel>

                            <!-- Scanner Info & Other -->
                            <StackPanel Grid.Column="3"
                                        VerticalAlignment="Top">
                                <StackPanel Orientation="Horizontal"
                                            Margin="0,0,0,0">

                                    <Label Content="Scan source:"
                                           FontSize="8"
                                           FontWeight="Normal"
                                           Margin="3,0,3,0"
                                           Padding="0"
                                           Visibility="{Binding ScanSourceFriendlyName, Converter={StaticResource EmptyToHiddenConverter}}" />

                                    <TextBlock Text="{Binding ScanSourceFriendlyName}"
                                               Foreground="#44474D"
                                               FontSize="8"
                                               VerticalAlignment="Center"
                                               TextWrapping="WrapWithOverflow"
                                               x:Name="tbScanSource" />
                                </StackPanel>

                                <StackPanel Orientation="Horizontal"
                                            Margin="3,-1,0,0">
                                    <Label Content="Scan date:"
                                           FontSize="8"
                                           FontWeight="Normal"
                                           Margin="7,0,3,0"
                                           Padding="0"
                                           Visibility="{Binding CacheMaxScanDateFriendly, Converter={StaticResource EmptyToHiddenConverter}}" />
                                    <TextBlock Text="{Binding CacheMaxScanDateFriendly}"
                                               Foreground="#44474D"
                                               FontSize="8"
                                               VerticalAlignment="Center"
                                               TextWrapping="WrapWithOverflow"
                                               x:Name="tbCacheMaxScanDate" />
                                </StackPanel>

                                <StackPanel Orientation="Horizontal"
                                            Margin="0,-1,0,00">
                                    <Label Content="Last touched:"
                                           FontSize="8"
                                           FontWeight="Normal"
                                           Margin="0,0,3,0"
                                           Padding="0"
                                           Visibility="{Binding LastModifiedComputerName, Converter={StaticResource EmptyToHiddenConverter}}" />
                                    <TextBlock Text="{Binding LastModifiedComputerName}"
                                               x:Name="tbLastTouchedBy"
                                               Foreground="#300300"
                                               FontSize="8"
                                               VerticalAlignment="Center"
                                               TextTrimming="CharacterEllipsis" />
                                </StackPanel>



                            </StackPanel>

                            <!-- Customer & Patient info -->
                            <StackPanel Orientation="Vertical"
                                        Grid.Column="4"
                                        Margin="5,0,10,0"
                                        VerticalAlignment="Top">
                                <TextBlock Text="{Binding Customer}"
                                           Foreground="Black"
                                           FontWeight="SemiBold"
                                           TextWrapping="WrapWithOverflow"
                                           Margin="0,0,0,0"
                                           Padding="0"
                                           VerticalAlignment="Top" />


                                <StackPanel Orientation="Horizontal"
                                            Margin="0,0,0,0"
                                            VerticalAlignment="Bottom">
                                    <Label Content="Patient:"
                                           FontSize="8"
                                           FontWeight="Normal"
                                           Foreground="#666666"
                                           Margin="0,1,3,0"
                                           Padding="0" />
                                    <TextBlock Text="{Binding Patient_FirstName}"
                                               Foreground="#111111"
                                               FontSize="8"
                                               VerticalAlignment="Center"
                                               FontWeight="SemiBold"
                                               Margin="0,1,0,0"
                                               TextWrapping="WrapWithOverflow" />

                                    <TextBlock Text="{Binding Patient_LastName}"
                                               Foreground="#111111"
                                               FontSize="8"
                                               Margin="5,1,0,0"
                                               FontWeight="SemiBold"
                                               VerticalAlignment="Center"
                                               TextWrapping="WrapWithOverflow" />



                                </StackPanel>
                            </StackPanel>






                            <!-- Items & Manufacturers -->
                            <StackPanel Grid.Column="5"
                                        VerticalAlignment="Top"
                                        Margin="5,0,0,0">
                                <TextBlock Text="{Binding Items}"
                                           Foreground="Black"
                                           VerticalAlignment="Top"
                                           Margin="0,0,0,0"
                                           Padding="0"
                                           TextTrimming="CharacterEllipsis" />
                                <StackPanel Orientation="Horizontal"
                                            Margin="0,2,0,0">
                                    <TextBlock Text="{Binding CacheMaterialName}"
                                               Foreground="#3f793f"
                                               FontSize="9"
                                               TextTrimming="CharacterEllipsis"
                                               x:Name="tbCacheMaterialName" />
                                    <TextBlock Text="{Binding ManufName}"
                                               Foreground="#8d8d3d"
                                               FontSize="9"
                                               Margin="5,0,0,0"
                                               TextTrimming="CharacterEllipsis"
                                               x:Name="tbManufName" />
                                </StackPanel>


                            </StackPanel>


                        </Grid>
                    </Border>


                    <ControlTemplate.Triggers>
                        <Trigger Property="ItemsControl.AlternationIndex"
                                 Value="1">
                            <Setter TargetName="Item"
                                    Property="Background"
                                    Value="#f7fefe" />
                        </Trigger>


                        <DataTrigger Binding="{Binding PreviouslyDesigned}"
                                     Value="True">
                            <Setter TargetName="Item"
                                    Property="Background"
                                    Value="#dff2f7" />
                            <Setter TargetName="ToolTipText"
                                    Property="Text"
                                    Value="Previously designed!" />
                            <Setter TargetName="ToolTipText"
                                    Property="Foreground"
                                    Value="Blue" />
                            <Setter TargetName="brdPanColor"
                                    Property="BorderBrush"
                                    Value="Transparent" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding PanColor}"
                                     Value="Transparent">
                            <Setter TargetName="Item"
                                    Property="Background"
                                    Value="#edfff6" />
                            <Setter TargetName="ToolTipText"
                                    Property="Text"
                                    Value="Pan is not registered!" />
                            <Setter TargetName="ToolTipText"
                                    Property="Foreground"
                                    Value="Green" />
                            <Setter TargetName="brdPanColor"
                                    Property="BorderBrush"
                                    Value="Transparent" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding PanNumber}"
                                     Value="">
                            <Setter TargetName="Item"
                                    Property="Background"
                                    Value="#ffffe9" />
                            <Setter TargetName="ToolTipText"
                                    Property="Text"
                                    Value="There is no pan number set!" />
                            <Setter TargetName="ToolTipText"
                                    Property="Foreground"
                                    Value="Orange" />
                            <Setter TargetName="brdPanColor"
                                    Property="BorderBrush"
                                    Value="Transparent" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding AlternateColoring}"
                                     Value="encode">
                            <Setter TargetName="Item"
                                    Property="Background"
                                    Value="#ffedff" />
                            <Setter TargetName="ToolTipText"
                                    Property="Text"
                                    Value="Possible encode case" />
                            <Setter TargetName="ToolTipText"
                                    Property="Foreground"
                                    Value="Red" />
                            <Setter TargetName="tbManufName"
                                    Property="Foreground"
                                    Value="Red" />
                            <Setter TargetName="tbCacheMaterialName"
                                    Property="Foreground"
                                    Value="Maroon" />
                        </DataTrigger>

                        <Trigger Property="IsMouseOver"
                                 Value="True">
                            <Setter Property="BorderBrush"
                                    Value="#79bbf2"
                                    TargetName="Item" />
                            <Setter Property="BorderThickness"
                                    Value="1"
                                    TargetName="Item" />
                            <Setter Property="Background"
                                    Value="#d4e9fb"
                                    TargetName="Item" />
                            <Setter Property="Cursor"
                                    Value="Hand"
                                    TargetName="Item" />
                        </Trigger>



                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- LvItemDetailedPt -->
    <!-- 
    <Style TargetType="ListViewItem"
           x:Key="LvItemDetailedPt">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="Item"
                            BorderThickness="1"
                            Tag="{Binding IntOrderID}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="PreviewMouseLeftButtonDown">
                                <i:InvokeCommandAction Command="{Binding ItemClickedCommand}"
                                                       CommandParameter="{Binding IntOrderID}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="{Binding ElementName=headerIcon, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerCaseID, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerScanInfo, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerCustomer, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerItems, Path=Width}" />
                            </Grid.ColumnDefinitions>

                            <StackPanel Orientation="Horizontal"
                                        Margin="0,2,0,2">
                                <Border BorderBrush="#F5F5F5"
                                        BorderThickness="1">

                                    <Rectangle Width="12"
                                               Height="auto"
                                               Margin="0,0,0,0">
                                        <Rectangle.Fill>
                                            <SolidColorBrush Color="{Binding PanColor}" />
                                        </Rectangle.Fill>
                                    </Rectangle>
                                </Border>

                                <Ellipse Width="28"
                                         Height="28"
                                         Margin="3,0,2,0"
                                         Grid.Column="0"
                                         VerticalAlignment="Top">
                                    <Ellipse.Fill>
                                        <ImageBrush ImageSource="{Binding ImageSource}"
                                                    RenderOptions.BitmapScalingMode="Fant" />
                                    </Ellipse.Fill>
                                </Ellipse>
                            </StackPanel>



                            
                            <StackPanel VerticalAlignment="Top"
                                        Height="32"
                                        Grid.Column="1"
                                        Margin="4,0,10,0">
                                <StackPanel Orientation="Vertical"
                                            Margin="0,2,0,0">
                                    <TextBlock Text="{Binding IntOrderID}"
                                               FontWeight="SemiBold"
                                               VerticalAlignment="Center"
                                               FontSize="12"
                                               Foreground="Black"
                                               TextTrimming="CharacterEllipsis" />


                                    <StackPanel Orientation="Horizontal"
                                                Margin="0,1,0,0">


                                        <Label Content="Created:"
                                               FontSize="8"
                                               Foreground="DarkGreen"
                                               FontWeight="Normal"
                                               Padding="0,0,4,0" />
                                        <TextBlock Text="{Binding MaxCreateDateFriendly}"
                                                   Foreground="#44474D"
                                                   FontSize="8"
                                                   VerticalAlignment="Center"
                                                   TextWrapping="WrapWithOverflow" />

                                        <Label Content="Modified:"
                                               FontSize="8"
                                               Foreground="SteelBlue"
                                               FontWeight="Normal"
                                               x:Name="lblModified"
                                               Padding="8,0,4,0"
                                               Visibility="{Binding Text, ElementName=tbModificationDate,
                                                Converter={StaticResource EmptyToHiddenConverter}}" />
                                        <TextBlock Text="{Binding ModificationDate}"
                                                   x:Name="tbModificationDate"
                                                   Foreground="#44474D"
                                                   FontSize="8"
                                                   FontWeight="Normal"
                                                   VerticalAlignment="Center"
                                                   TextWrapping="WrapWithOverflow" />

                                    </StackPanel>

                                </StackPanel>
                            </StackPanel>


                            
                            <StackPanel Grid.Column="2"
                                        VerticalAlignment="Top">
                                <StackPanel Orientation="Horizontal"
                                            Margin="0,0,0,0">

                                    <Label Content="Scan source:"
                                           FontSize="8"
                                           FontWeight="Normal"
                                           Margin="3,0,3,0"
                                           Padding="0"
                                           Visibility="{Binding Text, ElementName=tbScanSource,
                                            Converter={StaticResource EmptyToHiddenConverter}}" />

                                    <TextBlock Text="{Binding ScanSourceFriendlyName}"
                                               Foreground="#44474D"
                                               FontSize="8"
                                               VerticalAlignment="Center"
                                               TextWrapping="WrapWithOverflow"
                                               x:Name="tbScanSource" />
                                </StackPanel>

                                <StackPanel Orientation="Horizontal"
                                            Margin="3,-1,0,0">
                                    <Label Content="Scan date:"
                                           FontSize="8"
                                           FontWeight="Normal"
                                           Margin="7,0,3,0"
                                           Padding="0"
                                           Visibility="{Binding Text, ElementName=tbCacheMaxScanDate,
                                            Converter={StaticResource EmptyToHiddenConverter}}" />
                                    <TextBlock Text="{Binding CacheMaxScanDateFriendly}"
                                               Foreground="#44474D"
                                               FontSize="8"
                                               VerticalAlignment="Center"
                                               TextWrapping="WrapWithOverflow"
                                               x:Name="tbCacheMaxScanDate" />
                                </StackPanel>

                                <StackPanel Orientation="Horizontal"
                                            Margin="0,-1,0,00">
                                    <Label Content="Last touched:"
                                           FontSize="8"
                                           FontWeight="Normal"
                                           Margin="0,0,3,0"
                                           Padding="0"
                                           Visibility="{Binding Text, ElementName=tbLastTouchedBy,
                                            Converter={StaticResource EmptyToHiddenConverter}}" />
                                    <TextBlock Text="{Binding LastModifiedComputerName}"
                                               x:Name="tbLastTouchedBy"
                                               Foreground="#300300"
                                               FontSize="8"
                                               VerticalAlignment="Center"
                                               TextTrimming="CharacterEllipsis" />
                                </StackPanel>



                            </StackPanel>

                            
                            <StackPanel Orientation="Vertical"
                                        Grid.Column="3"
                                        Margin="5,0,10,0"
                                        VerticalAlignment="Top">

                                <StackPanel Orientation="Horizontal"
                                            Margin="0,0,0,0"
                                            VerticalAlignment="Bottom">
                                    <TextBlock Text="{Binding Patient_FirstName}"
                                               Foreground="#111111"
                                               FontSize="12"
                                               VerticalAlignment="Center"
                                               FontWeight="SemiBold"
                                               Margin="0,0,0,0"
                                               TextWrapping="WrapWithOverflow" />

                                    <TextBlock Text="{Binding Patient_LastName}"
                                               Foreground="#111111"
                                               FontSize="12"
                                               Margin="5,0,0,0"
                                               FontWeight="SemiBold"
                                               VerticalAlignment="Center"
                                               TextWrapping="WrapWithOverflow" />



                                </StackPanel>

                                <StackPanel Orientation="Horizontal"
                                            Margin="0,0,0,0"
                                            VerticalAlignment="Bottom">
                                    <Label Content="Customer"
                                           FontSize="8"
                                           Padding="0,0,4,0" />
                                    <TextBlock Text="{Binding Customer}"
                                               Foreground="Black"
                                               FontWeight="SemiBold"
                                               TextWrapping="WrapWithOverflow"
                                               FontSize="8"
                                               Margin="0,0,0,0"
                                               Padding="0"
                                               VerticalAlignment="Top" />
                                </StackPanel>
                            </StackPanel>






                            
                            <StackPanel Grid.Column="4"
                                        VerticalAlignment="Top"
                                        Margin="5,0,0,0">
                                <TextBlock Text="{Binding Items}"
                                           Foreground="Black"
                                           VerticalAlignment="Top"
                                           Margin="0,0,0,0"
                                           Padding="0"
                                           TextTrimming="CharacterEllipsis" />
                                <StackPanel Orientation="Horizontal"
                                            Margin="0,2,0,0">
                                    <TextBlock Text="{Binding CacheMaterialName}"
                                               Foreground="#3f793f"
                                               FontSize="9"
                                               TextTrimming="CharacterEllipsis" />
                                    <TextBlock Text="{Binding ManufName}"
                                               Foreground="#8d8d3d"
                                               FontSize="9"
                                               Margin="5,0,0,0"
                                               TextTrimming="CharacterEllipsis" />
                                </StackPanel>


                            </StackPanel>



                        </Grid>
                    </Border>


                    <ControlTemplate.Triggers>
                        <Trigger Property="ItemsControl.AlternationIndex"
                                 Value="1">
                            <Setter TargetName="Item"
                                    Property="Background"
                                    Value="#f7fefe" />
                        </Trigger>

                        <Trigger Property="IsMouseOver"
                                 Value="True">
                            <Setter Property="BorderBrush"
                                    Value="#79bbf2"
                                    TargetName="Item" />
                            <Setter Property="BorderThickness"
                                    Value="1"
                                    TargetName="Item" />
                            <Setter Property="Background"
                                    Value="#d4e9fb"
                                    TargetName="Item" />
                            <Setter Property="Cursor"
                                    Value="Hand"
                                    TargetName="Item" />
                        </Trigger>



                    </ControlTemplate.Triggers>


                </ControlTemplate>
            </Setter.Value>
        </Setter>


    </Style>
-->

    <!-- LvItemIssues -->
    <Style TargetType="ListViewItem"
           x:Key="LvItemIssues">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="IssueItem"
                            BorderThickness="1"
                            Height="26"
                            Background="{Binding Color}"
                            Tag="{Binding OrderID}">
                        <Border.InputBindings>
                            <MouseBinding Gesture="LeftDoubleClick"
                                          Command="{Binding DataContext.SearchForOrderByOrderIssueClickCommand,
                                                            RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}" />
                        </Border.InputBindings>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="{Binding ElementName=lvIssuesOrderID, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=lvIssuesSkipReason, Path=Width}" />
                            </Grid.ColumnDefinitions>


                            <TextBlock Text="{Binding OrderID}"
                                       Grid.Column="0"
                                       FontWeight="SemiBold"
                                       VerticalAlignment="Center"
                                       FontSize="13"
                                       Foreground="White"
                                       Margin="5,0,20,0"
                                       TextTrimming="CharacterEllipsis" />


                            <TextBlock Text="{Binding IssueDescription}"
                                       Grid.Column="1"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       FontSize="13"
                                       Foreground="White"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />

                        </Grid>

                    </Border>


                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver"
                                 Value="True">
                            <Setter Property="BorderBrush"
                                    Value="#79bbf2"
                                    TargetName="IssueItem" />
                            <Setter Property="Background"
                                    Value="#a3b502"
                                    TargetName="IssueItem" />
                            <Setter Property="Cursor"
                                    Value="Hand"
                                    TargetName="IssueItem" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- LvItemDebug -->
    <Style TargetType="ListViewItem"
           x:Key="LvItemDebug">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="IssueItem"
                            BorderThickness="1">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="{Binding ElementName=lvDebugLocation, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=lvDebugLineNumber, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=lvDebugTime, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=lvDebugMessage, Path=Width}" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Text="{Binding DLocation}"
                                       Grid.Column="0"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       FontSize="12"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />

                            <TextBlock Text="{Binding DLineNumber}"
                                       Grid.Column="1"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       FontSize="12"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />


                            <TextBlock Text="{Binding DTime}"
                                       Grid.Column="2"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       FontSize="12"
                                       Margin="5,0,0,0"
                                       TextTrimming="CharacterEllipsis" />


                            <TextBlock Text="{Binding DMessage}"
                                       Grid.Column="3"
                                       FontWeight="Normal"
                                       VerticalAlignment="Center"
                                       FontSize="12"
                                       Margin="5,0,0,0"
                                       TextWrapping="Wrap" />



                        </Grid>

                    </Border>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <!-- LvItemPanColors -->
    <Style TargetType="ListViewItem"
           x:Key="LvItemPanColors">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="IssueItem"
                            BorderThickness="1"
                            Margin="2,2,12,2"
                            Background="{Binding Color}">
                        <Grid>
                            <TextBlock Text="{Binding FriendlyName}"
                                       Grid.Column="0"
                                       FontWeight="Thin"
                                       VerticalAlignment="Center"
                                       FontSize="14"
                                       Margin="5,0,0,0"
                                       Padding="5"
                                       Cursor="Hand"
                                       Foreground="{Binding IsItDarkColor, Converter={StaticResource DarkColorBoolToColorConverter}}"
                                       TextTrimming="CharacterEllipsis">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseDown">
                                        <i:InvokeCommandAction Command="{Binding DataContext.ItemClickedCommand, 
                                             RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}"
                                                               CommandParameter="{Binding .}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </TextBlock>

                        </Grid>

                    </Border>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <!-- LvItemForItemList-->
    <Style TargetType="ListViewItem"
           x:Key="LvItemForItemList">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="Item"
                            BorderThickness="1">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="{Binding ElementName=headerItem, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerCacheMaterialName, Path=Width}" />
                            </Grid.ColumnDefinitions>



                            <!-- Item -->
                            <StackPanel VerticalAlignment="Top"
                                        Height="auto"
                                        MinHeight="25"
                                        Grid.Column="0"
                                        Margin="0,0,10,0">
                                <StackPanel Orientation="Vertical"
                                            Margin="0,0,0,0">
                                    <TextBlock Text="{Binding Item}"
                                               FontWeight="SemiBold"
                                               VerticalAlignment="Center"
                                               FontSize="12"
                                               Foreground="{Binding StCopyExists}"
                                               TextTrimming="CharacterEllipsis"
                                               HorizontalAlignment="Right"
                                               x:Name="tbItem" />


                                    <StackPanel Orientation="Horizontal"
                                                Margin="0,1,0,0"
                                                HorizontalAlignment="Right">


                                        <Label Content="Manufacturer set:"
                                               FontSize="8"
                                               FontWeight="Normal"
                                               Padding="0,0,4,0"
                                               x:Name="lblManufActual">
                                            <Label.Visibility>
                                                <MultiBinding StringFormat=" {0}, {1}"
                                                              Converter="{StaticResource EqualToHiddenConverter}">
                                                    <Binding ElementName="tbManufOriginal"
                                                             Path="Text" />
                                                    <Binding ElementName="tbManufActual"
                                                             Path="Text" />
                                                </MultiBinding>
                                            </Label.Visibility>
                                        </Label>
                                        <TextBlock Text="{Binding ManufName}"
                                                   x:Name="tbManufActual"
                                                   Foreground="Crimson"
                                                   FontSize="8"
                                                   VerticalAlignment="Center"
                                                   TextWrapping="WrapWithOverflow"
                                                   Padding="0,0,0,1">
                                            <TextBlock.Visibility>
                                                <MultiBinding StringFormat=" {0}, {1}"
                                                              Converter="{StaticResource EqualToHiddenConverter}">
                                                    <Binding ElementName="tbManufOriginal"
                                                             Path="Text" />
                                                    <Binding ElementName="tbManufActual"
                                                             Path="Text" />
                                                </MultiBinding>
                                            </TextBlock.Visibility>
                                        </TextBlock>

                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal"
                                                Margin="0,1,0,2"
                                                HorizontalAlignment="Right">

                                        <Label Content="Original setup was:"
                                               FontSize="8"
                                               FontWeight="Normal"
                                               x:Name="lblManufOrig"
                                               Padding="8,0,4,0">
                                            <Label.Visibility>
                                                <MultiBinding StringFormat=" {0}, {1}"
                                                              Converter="{StaticResource EqualToHiddenConverter}">
                                                    <Binding ElementName="tbManufOriginal"
                                                             Path="Text" />
                                                    <Binding ElementName="tbManufActual"
                                                             Path="Text" />
                                                </MultiBinding>
                                            </Label.Visibility>
                                        </Label>
                                        <TextBlock Text="{Binding ManufName_stCopy}"
                                                   x:Name="tbManufOriginal"
                                                   Foreground="DarkGreen"
                                                   FontSize="8"
                                                   FontWeight="Normal"
                                                   VerticalAlignment="Center"
                                                   TextWrapping="WrapWithOverflow">
                                            <TextBlock.Visibility>
                                                <MultiBinding StringFormat=" {0}, {1}"
                                                              Converter="{StaticResource EqualToHiddenConverter}">
                                                    <Binding ElementName="tbManufOriginal"
                                                             Path="Text" />
                                                    <Binding ElementName="tbManufActual"
                                                             Path="Text" />
                                                </MultiBinding>
                                            </TextBlock.Visibility>
                                        </TextBlock>

                                    </StackPanel>

                                </StackPanel>
                            </StackPanel>


                            <!-- Material & manufProc -->

                            <StackPanel Orientation="Vertical"
                                        Grid.Column="1"
                                        Margin="5,0,10,0"
                                        VerticalAlignment="Top">
                                <TextBlock Text="{Binding CacheMaterialName}"
                                           Foreground="Black"
                                           FontWeight="SemiBold"
                                           TextWrapping="WrapWithOverflow"
                                           Margin="0,0,0,0"
                                           Padding="0"
                                           VerticalAlignment="Top" />


                                <StackPanel Orientation="Horizontal"
                                            Margin="0,0,0,2"
                                            VerticalAlignment="Bottom">
                                    <Label Content="ManufProc:"
                                           FontSize="8"
                                           FontWeight="Normal"
                                           Foreground="#666666"
                                           Margin="0,1,3,0"
                                           Padding="0"
                                           x:Name="lblManufProc">
                                        <Label.Visibility>
                                            <MultiBinding StringFormat=" {0}, {1}"
                                                          Converter="{StaticResource EqualToHiddenConverter}">
                                                <Binding ElementName="tbManufacturingProcessIDOriginal"
                                                         Path="Text" />
                                                <Binding ElementName="tbManufacturingProcessIDActual"
                                                         Path="Text" />
                                            </MultiBinding>
                                        </Label.Visibility>
                                    </Label>
                                    <TextBlock Text="{Binding ManufacturingProcessID}"
                                               Foreground="Red"
                                               FontSize="8"
                                               VerticalAlignment="Center"
                                               FontWeight="SemiBold"
                                               Margin="0,1,0,0"
                                               TextWrapping="WrapWithOverflow"
                                               x:Name="tbManufacturingProcessIDActual">
                                        <TextBlock.Visibility>
                                            <MultiBinding StringFormat=" {0}, {1}"
                                                          Converter="{StaticResource EqualToHiddenConverter}">
                                                <Binding ElementName="tbManufacturingProcessIDOriginal"
                                                         Path="Text" />
                                                <Binding ElementName="tbManufacturingProcessIDActual"
                                                         Path="Text" />
                                            </MultiBinding>
                                        </TextBlock.Visibility>
                                    </TextBlock>

                                    <TextBlock Text="≠"
                                               Foreground="Blue"
                                               FontSize="10"
                                               VerticalAlignment="Center"
                                               FontWeight="Bold"
                                               Margin="5,-2,0,0"
                                               TextWrapping="WrapWithOverflow"
                                               x:Name="lblNotEqual">
                                        <TextBlock.Visibility>
                                            <MultiBinding StringFormat=" {0}, {1}"
                                                          Converter="{StaticResource EqualToHiddenConverter}">
                                                <Binding ElementName="tbManufacturingProcessIDOriginal"
                                                         Path="Text" />
                                                <Binding ElementName="tbManufacturingProcessIDActual"
                                                         Path="Text" />
                                            </MultiBinding>
                                        </TextBlock.Visibility>
                                    </TextBlock>

                                    <TextBlock Text="{Binding ManufacturingProcessID_stCopy}"
                                               Foreground="Green"
                                               FontSize="8"
                                               Margin="5,0,0,0"
                                               FontWeight="SemiBold"
                                               VerticalAlignment="Center"
                                               TextWrapping="WrapWithOverflow"
                                               x:Name="tbManufacturingProcessIDOriginal">
                                        <TextBlock.Visibility>
                                            <MultiBinding StringFormat=" {0}, {1}"
                                                          Converter="{StaticResource EqualToHiddenConverter}">
                                                <Binding ElementName="tbManufacturingProcessIDOriginal"
                                                         Path="Text" />
                                                <Binding ElementName="tbManufacturingProcessIDActual"
                                                         Path="Text" />
                                            </MultiBinding>
                                        </TextBlock.Visibility>
                                    </TextBlock>



                                </StackPanel>

                                <StackPanel Orientation="Horizontal"
                                            Margin="0,0,0,0"
                                            VerticalAlignment="Bottom">
                                    <Label Content="ManufID:"
                                           FontSize="8"
                                           FontWeight="Normal"
                                           Foreground="#666666"
                                           Margin="0,1,3,0"
                                           Padding="0"
                                           x:Name="lblManufID">
                                        <Label.Visibility>
                                            <MultiBinding StringFormat=" {0}, {1}"
                                                          Converter="{StaticResource EqualToHiddenConverter}">
                                                <Binding ElementName="tbManufacturerIDOriginal"
                                                         Path="Text" />
                                                <Binding ElementName="tbManufacturerIDActual"
                                                         Path="Text" />
                                            </MultiBinding>
                                        </Label.Visibility>
                                    </Label>
                                    <TextBlock Text="{Binding ManufacturerID}"
                                               Foreground="Red"
                                               FontSize="8"
                                               VerticalAlignment="Center"
                                               FontWeight="SemiBold"
                                               Margin="0,1,0,0"
                                               TextWrapping="WrapWithOverflow"
                                               x:Name="tbManufacturerIDOriginal">
                                        <TextBlock.Visibility>
                                            <MultiBinding StringFormat=" {0}, {1}"
                                                          Converter="{StaticResource EqualToHiddenConverter}">
                                                <Binding ElementName="tbManufacturerIDOriginal"
                                                         Path="Text" />
                                                <Binding ElementName="tbManufacturerIDActual"
                                                         Path="Text" />
                                            </MultiBinding>
                                        </TextBlock.Visibility>
                                    </TextBlock>

                                    <TextBlock Text="{Binding ManufacturerID_stCopy}"
                                               Foreground="Green"
                                               FontSize="8"
                                               Margin="5,1,0,0"
                                               FontWeight="SemiBold"
                                               VerticalAlignment="Center"
                                               TextWrapping="WrapWithOverflow"
                                               x:Name="tbManufacturerIDActual">
                                        <TextBlock.Visibility>
                                            <MultiBinding StringFormat=" {0}, {1}"
                                                          Converter="{StaticResource EqualToHiddenConverter}">
                                                <Binding ElementName="tbManufacturerIDOriginal"
                                                         Path="Text" />
                                                <Binding ElementName="tbManufacturerIDActual"
                                                         Path="Text" />
                                            </MultiBinding>
                                        </TextBlock.Visibility>
                                    </TextBlock>



                                </StackPanel>
                            </StackPanel>







                        </Grid>

                    </Border>


                    <ControlTemplate.Triggers>
                        <Trigger Property="ItemsControl.AlternationIndex"
                                 Value="1">
                            <Setter TargetName="Item"
                                    Property="Background"
                                    Value="#f7fefe" />
                        </Trigger>

                        <DataTrigger Binding="{Binding ValidateItemIntegrity}"
                                     Value="FailedToValidate">
                            <Setter TargetName="Item"
                                    Property="Background"
                                    Value="#ffe" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding ValidateItemIntegrity}"
                                     Value="Invalid">
                            <Setter TargetName="Item"
                                    Property="Background"
                                    Value="#feeff2" />
                            <Setter TargetName="tbItem"
                                    Property="Foreground"
                                    Value="Crimson" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding ValidateItemIntegrity}"
                                     Value="Valid">
                            <Setter TargetName="Item"
                                    Property="Background"
                                    Value="#f0fef7" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding ValidateItemIntegrity}"
                                     Value="ChangedItem">
                            <Setter TargetName="Item"
                                    Property="Background"
                                    Value="#ecf9ff" />
                            <Setter TargetName="tbItem"
                                    Property="Foreground"
                                    Value="BlueViolet" />
                            <Setter TargetName="tbManufOriginal"
                                    Property="Visibility"
                                    Value="Collapsed" />
                            <Setter TargetName="tbManufActual"
                                    Property="Visibility"
                                    Value="Collapsed" />
                            <Setter TargetName="lblManufActual"
                                    Property="Visibility"
                                    Value="Collapsed" />
                            <Setter TargetName="lblManufOrig"
                                    Property="Content"
                                    Value="Item was changed after scan!" />
                            <Setter TargetName="lblManufOrig"
                                    Property="Foreground"
                                    Value="Maroon" />
                            <Setter TargetName="lblManufOrig"
                                    Property="FontWeight"
                                    Value="SemiBold" />
                            <Setter TargetName="lblManufOrig"
                                    Property="Margin"
                                    Value="0,0,0,2" />
                            <Setter TargetName="tbManufacturingProcessIDActual"
                                    Property="Visibility"
                                    Value="Collapsed" />
                            <Setter TargetName="tbManufacturingProcessIDOriginal"
                                    Property="Visibility"
                                    Value="Collapsed" />
                            <Setter TargetName="tbManufacturerIDActual"
                                    Property="Visibility"
                                    Value="Collapsed" />
                            <Setter TargetName="tbManufacturerIDOriginal"
                                    Property="Visibility"
                                    Value="Collapsed" />
                            <Setter TargetName="lblManufID"
                                    Property="Visibility"
                                    Value="Collapsed" />
                            <Setter TargetName="lblNotEqual"
                                    Property="Visibility"
                                    Value="Collapsed" />
                            <Setter TargetName="lblManufProc"
                                    Property="Visibility"
                                    Value="Collapsed" />

                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <!-- LvItemImages -->
    <Style TargetType="ListViewItem"
           x:Key="LvItemImages">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="Item"
                            BorderThickness="1">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>

                            <Border x:Name="imageBorder"
                                    Margin="0"
                                    Padding="0">
                                <Image Source="{Binding Path, Converter={StaticResource StringToImageConverter}}"
                                       Tag="{Binding Path}"
                                       x:Name="image"
                                       Height="243"
                                       Width="251"
                                       Margin="4">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="PreviewMouseLeftButtonDown">
                                            <i:InvokeCommandAction Command="{Binding DataContext.ImageClickedCommand, 
                                                                             RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}"
                                                                   CommandParameter="{Binding Path}" />
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                </Image>
                            </Border>
                        </Grid>

                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <!-- LvItemSentOutCases -->
    <Style TargetType="ListViewItem"
           x:Key="LvItemSentOutCases">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="Item"
                            BorderThickness="1"
                            Tag="{Binding OrderID}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="{Binding ElementName=headerIcon, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerCaseID, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerCrowns, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerAbutments, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerModels, Path=Width}" />
                                <ColumnDefinition Width="{Binding ElementName=headerSentOn, Path=Width}" />
                            </Grid.ColumnDefinitions>

                            <StackPanel Orientation="Horizontal">
                                <Image Source="{Binding IconImage}"
                                       Width="30"
                                       Height="30"
                                       Margin="3,-2,2,0"
                                       Grid.Column="0"
                                       VerticalAlignment="Top" />

                            </StackPanel>

                            <StackPanel Grid.Column="1"
                                        HorizontalAlignment="Stretch">
                                <DockPanel HorizontalAlignment="Stretch"
                                           Margin="0">
                                    <TextBlock Text="{Binding OrderID}"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Margin="5,0,10,0"
                                               FontWeight="SemiBold"
                                               Foreground="{Binding CommentColor}"
                                               TextTrimming="CharacterEllipsis" />

                                    <TextBlock Text="{Binding RushCaseComment}"
                                               VerticalAlignment="Center"
                                               FontWeight="Bold"
                                               Foreground="Crimson"
                                               Margin="0,0,5,0"
                                               HorizontalAlignment="Left"
                                               Visibility="{Binding Rush, Converter={StaticResource RushToVisibleConverter}}"
                                               TextTrimming="CharacterEllipsis" />

                                    <TextBlock Text="{Binding OrderDesignedComment}"
                                               VerticalAlignment="Center"
                                               FontWeight="Bold"
                                               Foreground="Green"
                                               Margin="0,0,5,0"
                                               Visibility="{Binding CommentIcon, Converter={StaticResource CommentIconToVisibleConverter}}"
                                               TextTrimming="CharacterEllipsis" />

                                    <TextBlock Text="{Binding RedoCaseComment}"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Right"
                                               FontWeight="Bold"
                                               Foreground="Purple"
                                               Margin="0,0,5,0"
                                               Visibility="{Binding Redo, Converter={StaticResource RushToVisibleConverter}}"
                                               TextTrimming="CharacterEllipsis" />

                                    <TextBlock Text="{Binding ScrewRetainedCaseComment}"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Right"
                                               FontWeight="Bold"
                                               Foreground="DeepPink"
                                               Margin="0,0,5,0"
                                               Visibility="{Binding ScrewRetained, Converter={StaticResource BoolToVisibilityConverter}}"
                                               TextTrimming="CharacterEllipsis" />

                                </DockPanel>

                                <TextBlock Text="{Binding Items}"
                                           VerticalAlignment="Center"
                                           Margin="5,-2,10,0"
                                           FontSize="8"
                                           Foreground="Gray"
                                           TextTrimming="CharacterEllipsis"
                                           TextWrapping="Wrap" />
                                <TextBlock Text="{Binding Comment}"
                                           VerticalAlignment="Center"
                                           Margin="5,-2,10,0"
                                           FontSize="8"
                                           Foreground="IndianRed"
                                           Visibility="{Binding Comment, Converter={StaticResource TextToVisibilityConverter}}"
                                           TextTrimming="CharacterEllipsis" />
                                <TextBlock Text="{Binding CommentIn3Shape}"
                                           VerticalAlignment="Center"
                                           Margin="5,-2,10,0"
                                           FontSize="8"
                                           Foreground="MediumOrchid"
                                           Cursor="Hand"
                                           Visibility="{Binding CommentIn3Shape, Converter={StaticResource TextToVisibilityConverter}}"
                                           TextTrimming="CharacterEllipsis"
                                           TextWrapping="Wrap" />

                                <TextBlock Text="{Binding RushForMorningComment}"
                                           VerticalAlignment="Center"
                                           FontWeight="Bold"
                                           Margin="5,-2,10,0"
                                           FontSize="8"
                                           Foreground="Crimson"
                                           Visibility="{Binding Rush, Converter={StaticResource RushToVisibleConverter}}"
                                           TextTrimming="CharacterEllipsis" />

                            </StackPanel>

                            <StackPanel Orientation="Horizontal"
                                        VerticalAlignment="Top"
                                        HorizontalAlignment="Left"
                                        Grid.Column="2"
                                        Margin="6,-2,0,0"
                                        Visibility="{Binding Crowns, Converter={StaticResource TextToVisibilityConverter}}">
                                <Grid Visibility="{Binding ScrewRetained, Converter={StaticResource BoolToInverseVisibilityConverter}}">
                                    <Image Source="\Images\SentOutCases\crown.png"
                                           Grid.Column="4"
                                           Width="18"
                                           Height="18"
                                           Margin="0,0,2,0" />
                                </Grid>
                                <Grid Visibility="{Binding ScrewRetained, Converter={StaticResource BoolToVisibilityConverter}}">
                                    <Image Source="\Images\SentOutCases\screwretained.png"
                                           Grid.Column="4"
                                           Width="18"
                                           Height="18"
                                           Margin="0,0,2,0" />
                                </Grid>
                                <TextBlock Text="{Binding Crowns}"
                                           Grid.Column="2"
                                           FontSize="16"
                                           VerticalAlignment="Center"
                                           HorizontalAlignment="Center" />
                            </StackPanel>

                            <StackPanel Orientation="Horizontal"
                                        VerticalAlignment="Top"
                                        HorizontalAlignment="Left"
                                        Margin="4,-2,0,0"
                                        Grid.Column="3">
                                <Image Source="\Images\SentOutCases\abutment.png"
                                       Grid.Column="4"
                                       Width="18"
                                       Height="18"
                                       Margin="0,2,-1,0"
                                       Visibility="{Binding Abutments, Converter={StaticResource TextToVisibilityConverter}}" />
                                <TextBlock Text="{Binding Abutments}"
                                           Grid.Column="3"
                                           FontSize="16"
                                           VerticalAlignment="Center"
                                           HorizontalAlignment="Center" />
                            </StackPanel>

                            <Image Source="\Images\SentOutCases\models.png"
                                   Grid.Column="4"
                                   VerticalAlignment="Top"
                                   HorizontalAlignment="Center"
                                   Margin="0,1,0,0"
                                   Width="18"
                                   Height="18"
                                   Visibility="{Binding Models, Converter={StaticResource TextToVisibilityConverter}}" />

                            <StackPanel Grid.Column="5"
                                        VerticalAlignment="Top"
                                        HorizontalAlignment="Center">
                                <TextBlock Text="{Binding SentOn, Converter={StaticResource RemoveFirstCharFromStringIfItsZConverter}}" />
                                <TextBlock Text="{Binding OriginalSentOnForChangedSentOn, Converter={StaticResource RemoveFirstCharFromStringIfItsZConverter}}"
                                           FontSize="10"
                                           HorizontalAlignment="Center"
                                           Foreground="{Binding CommentColor}">
                                    <TextBlock.Visibility>
                                        <MultiBinding StringFormat=" {0}, {1}"
                                                      Converter="{StaticResource EqualToCollapsedVisibilityConverter}">
                                            <Binding Path="SentOn" />
                                            <Binding Path="OriginalSentOnForChangedSentOn" />
                                        </MultiBinding>
                                    </TextBlock.Visibility>
                                </TextBlock>
                            </StackPanel>

                        </Grid>

                    </Border>


                    <ControlTemplate.Triggers>
                        <!--Trigger Property="IsMouseOver"
                                 Value="True">
                            <Setter Property="BorderBrush"
                                    Value="#79bbf2"
                                    TargetName="Item" />
                            <Setter Property="Background"
                                    Value="AliceBlue"
                                    TargetName="Item" />
                            <Setter Property="Cursor"
                                    Value="Arrow"
                                    TargetName="Item" />
                        </Trigger-->
                        <Trigger Property="ItemsControl.AlternationIndex"
                                 Value="1">
                            <Setter TargetName="Item"
                                    Property="Background"
                                    Value="#f1fafa" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <!-- LvItemAccountInfo -->
    <Style TargetType="ListViewItem"
           x:Key="LvItemAccountInfo">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="AccountInfoItem"
                            BorderThickness="1"
                            Tag="{Binding Credentials.Password}"
                            Background="{Binding Color}"
                            Margin="0,5"
                            Padding="2">
                        <Grid Background="#BBB"
                              Height="40">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="6" />
                                <ColumnDefinition Width="40" />
                                <ColumnDefinition Width="250" />
                                <ColumnDefinition />
                                <ColumnDefinition Width="300" />
                            </Grid.ColumnDefinitions>

                            <Rectangle Fill="{Binding Color}" />

                            <Image Source="{Binding ApplicationName, Converter={StaticResource AppNameToIconConverter}}"
                                   Width="24"
                                   Height="24"
                                   Grid.Column="1" />

                            <StackPanel Grid.Column="2"
                                        VerticalAlignment="Center">

                                <TextBlock Text="{Binding FriendlyName}"
                                           Foreground="Black"
                                           FontWeight="Normal"
                                           FontSize="16"
                                           Margin="5,0,0,0"
                                           TextTrimming="CharacterEllipsis" />

                                <TextBlock Text="{Binding SubCategory}"
                                           Foreground="Green"
                                           VerticalAlignment="Center"
                                           FontWeight="Thin"
                                           FontSize="9"
                                           Margin="5,-2,0,0"
                                           TextTrimming="CharacterEllipsis" />

                            </StackPanel>

                            <Grid Grid.Column="3">
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition />
                                </Grid.RowDefinitions>

                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="20" />
                                    <ColumnDefinition Width="180" />
                                    <ColumnDefinition Width="100" />
                                    <ColumnDefinition Width="100" />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>

                                <Image Grid.Row="0"
                                       Source="\Images\AccountInfoIcons\user.png"
                                       Width="10"
                                       Height="10" />

                                <TextBlock Text="{Binding Credentials.UserName}"
                                           Grid.Row="0"
                                           Grid.Column="1"
                                           FontSize="11"
                                           Foreground="Green"
                                           VerticalAlignment="Center"
                                           TextTrimming="CharacterEllipsis"
                                           Margin="0,0,4,0" />

                                <Image Grid.Row="1"
                                       Source="\Images\AccountInfoIcons\key.png"
                                       Width="10"
                                       Height="10" />

                                <TextBlock Text="------"
                                           Tag="{Binding Credentials.Password}"
                                           Grid.Row="1"
                                           Grid.Column="1"
                                           FontSize="12"
                                           Foreground="Blue"
                                           VerticalAlignment="Center"
                                           TextTrimming="CharacterEllipsis"
                                           Margin="0,0,4,0" />

                                <Button Content="Copy Username"
                                        Grid.Row="0"
                                        Grid.Column="2"
                                        FontSize="9"
                                        Margin="2"
                                        Command="{Binding DataContext.CopyUserNameToClipboardCommand, 
                                                          RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}"
                                        CommandParameter="{Binding Credentials.UserName}" />

                                <Button Content="Copy Password"
                                        Grid.Row="1"
                                        Grid.Column="2"
                                        FontSize="9"
                                        Margin="2"
                                        Command="{Binding DataContext.CopyPasswordToClipboardCommand, 
                                                          RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}"
                                        CommandParameter="{Binding Credentials.Password}" />

                                <Button Content="Show Password"
                                        Grid.Row="1"
                                        Grid.Column="3"
                                        FontSize="9"
                                        Margin="2"
                                        Tag="{Binding Credentials.Password}"
                                        Click="AccountInfosShowPassword_Button_Click" />

                            </Grid>



                            <Button Grid.Column="4"
                                    Margin="3"
                                    Height="25"
                                    Visibility="{Binding ApplicationName, Converter={StaticResource EmptyAppNameToVisibleConverter}}"
                                    Command="{Binding DataContext.OpenWebsiteCommand, 
                                              RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}"
                                    CommandParameter="{Binding Website}">
                                <Button.Content>
                                    <Grid Width="250">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="25" />
                                            <ColumnDefinition />
                                        </Grid.ColumnDefinitions>

                                        <Image Source="{Binding ApplicationName, Converter={StaticResource AppNameToIconConverter}}"
                                               Width="16"
                                               Height="16"
                                               Margin="0,2,0,0"
                                               Grid.Column="0" />

                                        <TextBlock Grid.Column="1"
                                                   Text="{Binding FriendlyName, StringFormat='Open \{0} website', Converter={StaticResource EmailToWebsiteConverter}}" />
                                    </Grid>
                                </Button.Content>
                            </Button>

                            <Button Grid.Column="4"
                                    Margin="3"
                                    Height="25"
                                    Visibility="{Binding ApplicationName, Converter={StaticResource EmptyAppNameToCollapsedConverter}}"
                                    Command="{Binding DataContext.StartApplicationCommand, 
                                                      RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}"
                                    CommandParameter="{Binding ApplicationPath}">
                                <Button.Content>
                                    <Grid Width="250">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="25" />
                                            <ColumnDefinition />
                                        </Grid.ColumnDefinitions>

                                        <Image Source="{Binding ApplicationName, Converter={StaticResource AppNameToIconConverter}}"
                                               Width="16"
                                               Height="16"
                                               Grid.Column="0" />

                                        <TextBlock Grid.Column="1"
                                                   Text="{Binding ApplicationName, StringFormat='Start \{0}'}" />
                                    </Grid>
                                </Button.Content>
                            </Button>
                        </Grid>

                    </Border>

                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver"
                                 Value="True">
                            <Setter Property="BorderBrush"
                                    Value="#99c5ff"
                                    TargetName="AccountInfoItem" />
                            <Setter Property="Background"
                                    Value="#005475"
                                    TargetName="AccountInfoItem" />
                        </Trigger>
                        <Trigger Property="ItemsControl.AlternationIndex"
                                 Value="1">
                            <Setter TargetName="AccountInfoItem"
                                    Property="Background"
                                    Value="#777" />
                        </Trigger>
                    </ControlTemplate.Triggers>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <!-- LvSentHealthReports -->
    <Style TargetType="ListViewItem"
           x:Key="LvSentHealthReports">
        <Setter Property="Background"
                Value="Transparent" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="Item"
                            BorderThickness="1">

                        <Grid Margin="1,0,1,6"
                              HorizontalAlignment="Right">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition  Width="{Binding ElementName=serviceHealthListTaskName, Path=Width}" />
                            </Grid.ColumnDefinitions>

                            <Grid HorizontalAlignment="Right">
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition Height="auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="24" />
                                </Grid.ColumnDefinitions>



                                <TextBlock Text="{Binding TaskName}"
                                           Foreground="{Binding ForeColor}"
                                           HorizontalAlignment="Right"
                                           FontWeight="Normal"
                                           FontSize="11"
                                           TextTrimming="CharacterEllipsis"
                                           Margin="0,0,0,0"
                                           Padding="10,2,0,4"
                                           Grid.Column="0" />
                                
                                <StackPanel Grid.Row="1"
                                            Grid.Column="0"
                                            HorizontalAlignment="Right">
                                    <TextBlock Text="{Binding ServiceStatus}"
                                               Foreground="LightYellow"
                                               FontWeight="Normal"
                                               FontSize="9"
                                               HorizontalAlignment="Right"
                                               TextTrimming="CharacterEllipsis"
                                               Margin="0,-7,0,0"
                                               Padding="11,2,0,4" />

                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="Last report:"
                                                   Foreground="#DDD"
                                                   FontWeight="Normal"
                                                   FontSize="8"
                                                   TextTrimming="CharacterEllipsis"
                                                   Margin="5,-6,0,0"
                                                   Padding="2,2,2,0" />
                                        <TextBlock Text="{Binding LastReport, Converter={StaticResource DateToMinutesConverter}}"
                                                   Foreground="#e1e3aa"
                                                   FontWeight="Normal"
                                                   FontSize="8"
                                                   TextTrimming="CharacterEllipsis"
                                                   Margin="0,-6,0,0"
                                                   Padding="2,2,2,0" />
                                    </StackPanel>

                                </StackPanel>
                                
                                <Image Source="{Binding ServiceStatus, Converter={StaticResource ServiceStatusToIconConverter}}"
                                       Margin="0,2,-6,0"
                                       Grid.RowSpan="2"
                                       Width="28"
                                       Height="28"
                                       VerticalAlignment="Top"
                                       Grid.Column="1" />
                            </Grid>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>